!!! 5
%html
  %head
    %title Type-ahead Search Demo - USASearch
  %body
    %h2 Type-ahead Search Demo

    != %{<form method="get" action="#{search_url}">}
    != %{  <input id="affiliate" name="affiliate" type="hidden" value="#{@affiliate.name}" />}
    != %{  <label for="query">Enter Search Term(s):</label>}
    != %{  <input autocomplete="off" class="usagov-search-autocomplete" id="query" name="query" type="text" />}
    != %{  <input type="submit" value="Search" /> }
    != %{</form>}
    :javascript
      var usasearch_config = { host:"//#{request.host_with_port}" };
      var usagov_sayt_url = "//#{request.host_with_port}/sayt?aid=#{@affiliate.id}&";
      var script = document.createElement('script');
      script.type = "text/javascript";
      script.src = "#{request.scheme}://#{request.host_with_port}/javascripts/sayt/remote.js";
      document.getElementsByTagName("head")[0].appendChild(script);
