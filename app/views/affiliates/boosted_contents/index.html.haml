.boosted-contents
  = affiliate_center_breadcrumbs([link_to(@affiliate.display_name, affiliate_path(@affiliate)), "Boosted Contents"])
  %h1 Boosted Contents

  .boosted-sites.span-24
    .span-17.append-1.last
      %p
        Boost content to make specific pages appear above the main search results displayed on your pages.
        Boosted Content appears above other pages whenever words in a searcher's query match text in the page's title, description, or keywords.
      %p How does it work? Boosted content can be entered in one of two ways.

      %ol.numbered
        %li You can enter individual new entries or use the bulk upload feature. These editorially created entries remain on your site until you decide to delete the entry.
        %li
          Pages submitted via our
          = link_to 'Add to Bing', affiliate_superfresh_urls_path(@affiliate)
          feature will appear as a boosted result. These autogenerated entries will be removed after seven days.
    .span-6.last
      .content-box.cross-promotion
        %h4 Another Way to Highlight Sites
        %p
          = link_to "Add to Bing", affiliate_superfresh_urls_path(@affiliate)
          %sup TM
          \-
          Identify new, modified, or moved pages for Bing to crawl and index.


  .boosted-content-list
    %table
      %colgroup
        %col{ :class => 'title' }
        %col{ :class => 'url' }
        %col{ :class => 'publish-date' }
        %col{ :class => 'status' }
        %col{ :class => 'actions' }
      %thead
        %tr
          %th{ :colspan => 5 }
            = link_to "Bulk upload boosted contents", bulk_new_affiliate_boosted_contents_path(@affiliate), :class => 'add-link'
            = link_to "Add new boosted content", new_affiliate_boosted_content_path(@affiliate), :class => 'add-link last'
            - unless @boosted_contents.blank?
              %span= page_entries_info @boosted_contents, :html => false
      %tbody
        %tr.column-header
          %th Title
          %th URL
          %th Publish Start
          %th Status
          %th Actions
        - unless @boosted_contents.blank?
          - @boosted_contents.each do |boosted_content|
            %tr.row-item
              %td= link_to boosted_content.title.truncate(35, :separator => " "), [@affiliate, boosted_content]
              %td= link_to(shorten_url(boosted_content.url, 20), boosted_content.url, :target => "_blank", :title => boosted_content.url)
              %td.publish-date= render_date boosted_content.publish_start_on
              %td.status= boosted_content.display_status
              %td.actions
                = link_to("Edit", edit_affiliate_boosted_content_path(@affiliate, boosted_content))
                = button_to("Delete", [@affiliate, boosted_content], :method => :delete, :confirm => "Are you sure you want to delete this Boosted Content?")
        - else
          %tr
            %td.empty{ :colspan => 5 } Site #{@affiliate.display_name} has no Boosted Content
    = button_to("Delete all", destroy_all_affiliate_boosted_contents_path(@affiliate), :method => :delete, :confirm => "Are you sure you want to delete all of your Boosted Content?\nThis action can not be undone.", :style => "float: right;") unless @boosted_contents.size <= 1
    = will_paginate @boosted_contents
