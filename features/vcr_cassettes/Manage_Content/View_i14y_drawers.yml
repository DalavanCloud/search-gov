---
http_interactions:
- request:
    method: post
    uri: http://localhost:8081/api/v1/collections
    body:
      encoding: UTF-8
      string: '{"handle":"blog_posts","token":"token 1"}'
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '98'
      Etag:
      - W/"b10142013700819fa2075927cf1902b8"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - d8793caf-eaf3-4252-88fb-2aa58723242f
      X-Runtime:
      - '0.139084'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","user_message":"Your collection
        was successfully created."}'
    http_version: 
  recorded_at: Mon, 27 Nov 2017 22:07:30 GMT
- request:
    method: post
    uri: http://localhost:8081/api/v1/collections
    body:
      encoding: UTF-8
      string: '{"handle":"more_posts","token":"token 2"}'
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '98'
      Etag:
      - W/"b10142013700819fa2075927cf1902b8"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 164ccf2a-8e10-442a-9b7a-6d07751ec1d0
      X-Runtime:
      - '0.074300'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","user_message":"Your collection
        was successfully created."}'
    http_version: 
  recorded_at: Mon, 27 Nov 2017 22:07:30 GMT
- request:
    method: post
    uri: http://localhost:8081/api/v1/documents
    body:
      encoding: UTF-8
      string: '{"document_id":1511820450.3478122,"title":"document 1","path":"http://www.doc1.gov","created":"2016-01-01T10:00:00Z","content":"my
        content"}'
    headers:
      Authorization:
      - Basic YmxvZ19wb3N0czp0b2tlbiAx
      User-Agent:
      - Faraday v0.9.2
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '96'
      Etag:
      - W/"5da9d2d01901b587865ccda85ffc4afb"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 7f87cb65-ea82-420c-b20f-a5caea70bd8f
      X-Runtime:
      - '0.030133'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","user_message":"Your document
        was successfully created."}'
    http_version: 
  recorded_at: Mon, 27 Nov 2017 22:07:30 GMT
- request:
    method: post
    uri: http://localhost:8081/api/v1/documents
    body:
      encoding: UTF-8
      string: '{"document_id":1511820450.389643,"title":"document 2","path":"http://www.doc2.dov","created":"2015-12-31T10:00:00Z","content":"more
        content"}'
    headers:
      Authorization:
      - Basic YmxvZ19wb3N0czp0b2tlbiAx
      User-Agent:
      - Faraday v0.9.2
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '96'
      Etag:
      - W/"5da9d2d01901b587865ccda85ffc4afb"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 97406264-d22c-4cda-8b32-b9c5a9a3dae3
      X-Runtime:
      - '0.013169'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","user_message":"Your document
        was successfully created."}'
    http_version: 
  recorded_at: Mon, 27 Nov 2017 22:07:30 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/blog_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '246'
      Etag:
      - W/"ee180119807cc73181b06bda285051ea"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 72e1794a-87a7-4517-94ee-5cc85f88748f
      X-Runtime:
      - '0.012055'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2017-11-27T22:07:30.121+00:00","updated_at":"2017-11-27T22:07:30.121+00:00","token":"token
        1","id":"blog_posts","document_total":2,"last_document_sent":"2017-11-27 22:07:30
        UTC"}}'
    http_version: 
  recorded_at: Mon, 27 Nov 2017 22:07:33 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/blog_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '246'
      Etag:
      - W/"ee180119807cc73181b06bda285051ea"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - e9aec4c2-4653-461d-a393-6acd236536d8
      X-Runtime:
      - '0.008012'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2017-11-27T22:07:30.121+00:00","updated_at":"2017-11-27T22:07:30.121+00:00","token":"token
        1","id":"blog_posts","document_total":2,"last_document_sent":"2017-11-27 22:07:30
        UTC"}}'
    http_version: 
  recorded_at: Mon, 27 Nov 2017 22:07:33 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/blog_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '246'
      Etag:
      - W/"ee180119807cc73181b06bda285051ea"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - a3a28a2c-1a91-4ae7-9feb-cb48445c445d
      X-Runtime:
      - '0.007853'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2017-11-27T22:07:30.121+00:00","updated_at":"2017-11-27T22:07:30.121+00:00","token":"token
        1","id":"blog_posts","document_total":2,"last_document_sent":"2017-11-27 22:07:30
        UTC"}}'
    http_version: 
  recorded_at: Mon, 27 Nov 2017 22:07:33 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/blog_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '246'
      Etag:
      - W/"ee180119807cc73181b06bda285051ea"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - df25f943-0fb6-4721-b7e0-021d3c422ff9
      X-Runtime:
      - '0.007106'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2017-11-27T22:07:30.121+00:00","updated_at":"2017-11-27T22:07:30.121+00:00","token":"token
        1","id":"blog_posts","document_total":2,"last_document_sent":"2017-11-27 22:07:30
        UTC"}}'
    http_version: 
  recorded_at: Mon, 27 Nov 2017 22:07:33 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/more_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '225'
      Etag:
      - W/"a8ddbc1b567bc8aa7d8b0acf19d7bb8b"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 6ce10827-f05c-4453-819b-866e4d1a476b
      X-Runtime:
      - '0.006669'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2017-11-27T22:07:30.263+00:00","updated_at":"2017-11-27T22:07:30.263+00:00","token":"token
        2","id":"more_posts","document_total":0,"last_document_sent":null}}'
    http_version: 
  recorded_at: Mon, 27 Nov 2017 22:07:33 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/more_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '225'
      Etag:
      - W/"a8ddbc1b567bc8aa7d8b0acf19d7bb8b"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 443d3145-81a0-408c-8f8b-cea153c800bb
      X-Runtime:
      - '0.006622'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2017-11-27T22:07:30.263+00:00","updated_at":"2017-11-27T22:07:30.263+00:00","token":"token
        2","id":"more_posts","document_total":0,"last_document_sent":null}}'
    http_version: 
  recorded_at: Mon, 27 Nov 2017 22:07:33 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/more_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '225'
      Etag:
      - W/"a8ddbc1b567bc8aa7d8b0acf19d7bb8b"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 47363c0f-b74a-4c03-a31f-8fde5c99be03
      X-Runtime:
      - '0.007029'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2017-11-27T22:07:30.263+00:00","updated_at":"2017-11-27T22:07:30.263+00:00","token":"token
        2","id":"more_posts","document_total":0,"last_document_sent":null}}'
    http_version: 
  recorded_at: Mon, 27 Nov 2017 22:07:33 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/search?handles=blog_posts&include=title,path,created,changed,updated_at&query&size=100&sort_by_date=true
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '387'
      Etag:
      - W/"0181b0b20667c1d34276bd7091b651bb"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - b8b2acee-8d14-4009-95fc-dea5e1274879
      X-Runtime:
      - '0.013855'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","metadata":{"total":2,"offset":0,"suggestion":null},"results":[{"path":"http://www.doc1.gov","updated_at":"2017-11-27
        22:07:30 UTC","created":"2016-01-01 10:00:00 UTC","title":"document 1","changed":null},{"path":"http://www.doc2.dov","updated_at":"2017-11-27
        22:07:30 UTC","created":"2015-12-31 10:00:00 UTC","title":"document 2","changed":null}]}'
    http_version: 
  recorded_at: Mon, 27 Nov 2017 22:07:33 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/search?handles=blog_posts&include=title,path,created,changed,updated_at&query=more&size=100&sort_by_date=true
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '245'
      Etag:
      - W/"0f50462fc6342e24609c2e5ef453b9f9"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 4f447cde-a1b9-477e-8acb-ff6af3c235c7
      X-Runtime:
      - '0.025463'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","metadata":{"total":1,"offset":0,"suggestion":null},"results":[{"path":"http://www.doc2.dov","updated_at":"2017-11-27
        22:07:30 UTC","created":"2015-12-31 10:00:00 UTC","title":"document 2","changed":null}]}'
    http_version: 
  recorded_at: Mon, 27 Nov 2017 22:07:34 GMT
recorded_with: VCR 3.0.3
