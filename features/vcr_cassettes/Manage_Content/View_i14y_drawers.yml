---
http_interactions:
- request:
    method: post
    uri: http://localhost:8081/api/v1/collections
    body:
      encoding: UTF-8
      string: '{"handle":"blog_posts","token":"token 1"}'
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '98'
      Etag:
      - W/"ac991f2b4744107c61fd0f600e2878e6"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 014c3e0d-2d60-43a3-a727-c4ec3be42351
      X-Runtime:
      - '4.407732'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","user_message":"Your collection
        was successfully created."}'
    http_version: 
  recorded_at: Thu, 02 Mar 2017 22:35:26 GMT
- request:
    method: post
    uri: http://localhost:8081/api/v1/collections
    body:
      encoding: UTF-8
      string: '{"handle":"more_posts","token":"token 2"}'
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '98'
      Etag:
      - W/"ac991f2b4744107c61fd0f600e2878e6"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - bec94c91-a815-402a-9ff3-ed34cc659840
      X-Runtime:
      - '0.379826'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","user_message":"Your collection
        was successfully created."}'
    http_version: 
  recorded_at: Thu, 02 Mar 2017 22:35:26 GMT
- request:
    method: post
    uri: http://localhost:8081/api/v1/documents
    body:
      encoding: UTF-8
      string: content=my+content&created=2016-01-01T10%3A00%3A00Z&document_id=1488494126.939681&handle=blog_posts&path=http%3A%2F%2Fwww.doc1.gov&title=document+1&token=token+1
    headers:
      User-Agent:
      - Faraday v0.9.2
      Authorization:
      - Basic YmxvZ19wb3N0czp0b2tlbiAx
      Content-Type:
      - application/x-www-form-urlencoded
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '96'
      Etag:
      - W/"08eca8dc90f40bf3d18ea4cc4934f24f"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 8b6dd3aa-f57e-4646-86d2-e6cdc25da743
      X-Runtime:
      - '3.975116'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","user_message":"Your document
        was successfully created."}'
    http_version: 
  recorded_at: Thu, 02 Mar 2017 22:35:30 GMT
- request:
    method: post
    uri: http://localhost:8081/api/v1/documents
    body:
      encoding: UTF-8
      string: content=more+content&created=2015-12-31T10%3A00%3A00Z&document_id=1488494130.92338&handle=blog_posts&path=http%3A%2F%2Fwww.doc2.dov&title=document+2&token=token+1
    headers:
      User-Agent:
      - Faraday v0.9.2
      Authorization:
      - Basic YmxvZ19wb3N0czp0b2tlbiAx
      Content-Type:
      - application/x-www-form-urlencoded
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '96'
      Etag:
      - W/"08eca8dc90f40bf3d18ea4cc4934f24f"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 0194f13a-c850-4046-8bd3-ae5a4e78e84c
      X-Runtime:
      - '0.021063'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","user_message":"Your document
        was successfully created."}'
    http_version: 
  recorded_at: Thu, 02 Mar 2017 22:35:30 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/blog_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '248'
      Etag:
      - W/"1ef7b92dbd412f0dacd9c1e38b02ca28"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - c765d798-f038-437d-af41-ed070d8b0887
      X-Runtime:
      - '0.415440'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2017-03-02T22:35:22.728+00:00","updated_at":"2017-03-02T22:35:22.729+00:00","token":"token
        1","id":"blog_posts","document_total":1,"last_document_sent":"2017-03-02T22:35:30+00:00"}}'
    http_version: 
  recorded_at: Thu, 02 Mar 2017 22:35:32 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/blog_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '248'
      Etag:
      - W/"1dfc147d433732a1c596fbc758aa09ab"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 0a9522b6-caf6-4b4e-ad76-4bc4e4076543
      X-Runtime:
      - '0.043310'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2017-03-02T22:35:22.728+00:00","updated_at":"2017-03-02T22:35:22.729+00:00","token":"token
        1","id":"blog_posts","document_total":2,"last_document_sent":"2017-03-02T22:35:30+00:00"}}'
    http_version: 
  recorded_at: Thu, 02 Mar 2017 22:35:32 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/blog_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '248'
      Etag:
      - W/"1dfc147d433732a1c596fbc758aa09ab"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - f4e2674e-46de-43f6-9097-0582a53a7b18
      X-Runtime:
      - '0.010627'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2017-03-02T22:35:22.728+00:00","updated_at":"2017-03-02T22:35:22.729+00:00","token":"token
        1","id":"blog_posts","document_total":2,"last_document_sent":"2017-03-02T22:35:30+00:00"}}'
    http_version: 
  recorded_at: Thu, 02 Mar 2017 22:35:32 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/blog_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '248'
      Etag:
      - W/"1dfc147d433732a1c596fbc758aa09ab"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 54ce805c-c654-4f99-9dc1-ee8edadc6a65
      X-Runtime:
      - '0.203431'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2017-03-02T22:35:22.728+00:00","updated_at":"2017-03-02T22:35:22.729+00:00","token":"token
        1","id":"blog_posts","document_total":2,"last_document_sent":"2017-03-02T22:35:30+00:00"}}'
    http_version: 
  recorded_at: Thu, 02 Mar 2017 22:35:32 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/more_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '225'
      Etag:
      - W/"4f3c9e645fa8b85de7936eb407d959cf"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - b251f846-f6fb-4078-85d8-87126af53287
      X-Runtime:
      - '0.010926'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2017-03-02T22:35:26.482+00:00","updated_at":"2017-03-02T22:35:26.482+00:00","token":"token
        2","id":"more_posts","document_total":0,"last_document_sent":null}}'
    http_version: 
  recorded_at: Thu, 02 Mar 2017 22:35:32 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/more_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '225'
      Etag:
      - W/"4f3c9e645fa8b85de7936eb407d959cf"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 9febe813-d897-4342-8b22-880c0007aac4
      X-Runtime:
      - '0.009417'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2017-03-02T22:35:26.482+00:00","updated_at":"2017-03-02T22:35:26.482+00:00","token":"token
        2","id":"more_posts","document_total":0,"last_document_sent":null}}'
    http_version: 
  recorded_at: Thu, 02 Mar 2017 22:35:32 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/more_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '225'
      Etag:
      - W/"4f3c9e645fa8b85de7936eb407d959cf"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 0a14a44d-deec-4ce0-acb9-cbd0cbf57590
      X-Runtime:
      - '0.007632'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2017-03-02T22:35:26.482+00:00","updated_at":"2017-03-02T22:35:26.482+00:00","token":"token
        2","id":"more_posts","document_total":0,"last_document_sent":null}}'
    http_version: 
  recorded_at: Thu, 02 Mar 2017 22:35:32 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/search?handles=blog_posts&include=title,path,created,changed,updated_at&query&size=100&sort_by_date=true
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '395'
      Etag:
      - W/"f7e032340a6cdfacb9dfa4fc5e47fe6d"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 5ecc59b6-6ded-42a4-abb0-e118243c9842
      X-Runtime:
      - '0.433962'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","metadata":{"total":2,"offset":0,"suggestion":null},"results":[{"path":"http://www.doc1.gov","updated_at":"2017-03-02T22:35:27+00:00","created":"2016-01-01T10:00:00+00:00","title":"document
        1","changed":null},{"path":"http://www.doc2.dov","updated_at":"2017-03-02T22:35:30+00:00","created":"2015-12-31T10:00:00+00:00","title":"document
        2","changed":null}]}'
    http_version: 
  recorded_at: Thu, 02 Mar 2017 22:35:33 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/search?handles=blog_posts&include=title,path,created,changed,updated_at&query=more&size=100&sort_by_date=true
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '249'
      Etag:
      - W/"b8cfd369659b9471c5b50fb5466e66b1"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 9b580c03-c536-4400-9af9-8874e0c065eb
      X-Runtime:
      - '0.703425'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","metadata":{"total":1,"offset":0,"suggestion":null},"results":[{"path":"http://www.doc2.dov","updated_at":"2017-03-02T22:35:30+00:00","created":"2015-12-31T10:00:00+00:00","title":"document
        2","changed":null}]}'
    http_version: 
  recorded_at: Thu, 02 Mar 2017 22:35:34 GMT
recorded_with: VCR 3.0.3
