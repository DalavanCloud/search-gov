---
http_interactions:
- request:
    method: post
    uri: http://localhost:8081/api/v1/collections
    body:
      encoding: UTF-8
      string: '{"handle":"blog_posts","token":"token 1"}'
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - '30'
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '98'
      Etag:
      - W/"b10142013700819fa2075927cf1902b8"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 72edfaf2-6fcb-4439-a4a7-9dd46c684e8e
      X-Runtime:
      - '0.241081'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","user_message":"Your collection
        was successfully created."}'
    http_version: 
  recorded_at: Sun, 04 Feb 2018 02:01:14 GMT
- request:
    method: post
    uri: http://localhost:8081/api/v1/collections
    body:
      encoding: UTF-8
      string: '{"handle":"more_posts","token":"token 2"}'
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - '30'
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '98'
      Etag:
      - W/"b10142013700819fa2075927cf1902b8"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 34b6e3c9-1eff-43ab-80ce-e733941ad55a
      X-Runtime:
      - '0.051309'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","user_message":"Your collection
        was successfully created."}'
    http_version: 
  recorded_at: Sun, 04 Feb 2018 02:01:14 GMT
- request:
    method: post
    uri: http://localhost:8081/api/v1/documents
    body:
      encoding: UTF-8
      string: '{"document_id":1517709674.7459269,"title":"document 1","path":"http://www.doc1.gov","created":"2016-01-01T10:00:00Z","content":"my
        content"}'
    headers:
      Authorization:
      - Basic YmxvZ19wb3N0czp0b2tlbiAx
      User-Agent:
      - Faraday v0.9.2
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - '30'
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '96'
      Etag:
      - W/"5da9d2d01901b587865ccda85ffc4afb"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 3743b198-ae7e-4a16-8a20-d4349f1dff55
      X-Runtime:
      - '0.532354'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","user_message":"Your document
        was successfully created."}'
    http_version: 
  recorded_at: Sun, 04 Feb 2018 02:01:15 GMT
- request:
    method: post
    uri: http://localhost:8081/api/v1/documents
    body:
      encoding: UTF-8
      string: '{"document_id":1517709675.284395,"title":"document 2","path":"http://www.doc2.dov","created":"2015-12-31T10:00:00Z","content":"more
        content"}'
    headers:
      Authorization:
      - Basic YmxvZ19wb3N0czp0b2tlbiAx
      User-Agent:
      - Faraday v0.9.2
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - '30'
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '96'
      Etag:
      - W/"5da9d2d01901b587865ccda85ffc4afb"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - d2f2e86a-b0ef-4302-b91e-3f552278b108
      X-Runtime:
      - '0.014618'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","user_message":"Your document
        was successfully created."}'
    http_version: 
  recorded_at: Sun, 04 Feb 2018 02:01:15 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/blog_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - '30'
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '236'
      Etag:
      - W/"fedce3be4ebb1517ae53269f3c9eaa0e"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - c0c96176-b67b-4be4-866a-3e5ce5e9aec8
      X-Runtime:
      - '0.103793'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2018-02-04T02:01:14.488Z","updated_at":"2018-02-04T02:01:14.490Z","token":"token
        1","id":"blog_posts","document_total":2,"last_document_sent":"2018-02-04 02:01:15
        UTC"}}'
    http_version: 
  recorded_at: Sun, 04 Feb 2018 02:01:16 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/blog_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - '30'
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '236'
      Etag:
      - W/"fedce3be4ebb1517ae53269f3c9eaa0e"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 9b26a84e-d5b7-4ad1-89ec-8914aee26bd7
      X-Runtime:
      - '0.014287'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2018-02-04T02:01:14.488Z","updated_at":"2018-02-04T02:01:14.490Z","token":"token
        1","id":"blog_posts","document_total":2,"last_document_sent":"2018-02-04 02:01:15
        UTC"}}'
    http_version: 
  recorded_at: Sun, 04 Feb 2018 02:01:16 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/blog_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - '30'
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '236'
      Etag:
      - W/"fedce3be4ebb1517ae53269f3c9eaa0e"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 53bb9203-4bf6-455f-9970-fd6414fbbed1
      X-Runtime:
      - '0.012272'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2018-02-04T02:01:14.488Z","updated_at":"2018-02-04T02:01:14.490Z","token":"token
        1","id":"blog_posts","document_total":2,"last_document_sent":"2018-02-04 02:01:15
        UTC"}}'
    http_version: 
  recorded_at: Sun, 04 Feb 2018 02:01:16 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/blog_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - '30'
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '236'
      Etag:
      - W/"fedce3be4ebb1517ae53269f3c9eaa0e"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - ab766d64-8d29-4bfd-9585-6e06e43fb0e6
      X-Runtime:
      - '0.011051'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2018-02-04T02:01:14.488Z","updated_at":"2018-02-04T02:01:14.490Z","token":"token
        1","id":"blog_posts","document_total":2,"last_document_sent":"2018-02-04 02:01:15
        UTC"}}'
    http_version: 
  recorded_at: Sun, 04 Feb 2018 02:01:16 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/more_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - '30'
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '215'
      Etag:
      - W/"de00a451cd2a15c9e97bdb504ba5f0ce"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 2a9d8971-f1f8-4058-86e4-3335cda40214
      X-Runtime:
      - '0.010782'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2018-02-04T02:01:14.683Z","updated_at":"2018-02-04T02:01:14.683Z","token":"token
        2","id":"more_posts","document_total":0,"last_document_sent":null}}'
    http_version: 
  recorded_at: Sun, 04 Feb 2018 02:01:16 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/more_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - '30'
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '215'
      Etag:
      - W/"de00a451cd2a15c9e97bdb504ba5f0ce"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - a717776f-0a0b-4450-bd89-fbbbfcfc1760
      X-Runtime:
      - '0.009616'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2018-02-04T02:01:14.683Z","updated_at":"2018-02-04T02:01:14.683Z","token":"token
        2","id":"more_posts","document_total":0,"last_document_sent":null}}'
    http_version: 
  recorded_at: Sun, 04 Feb 2018 02:01:16 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/more_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - '30'
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '215'
      Etag:
      - W/"de00a451cd2a15c9e97bdb504ba5f0ce"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - e3adcc4f-4861-4e0e-a714-e103748d6b74
      X-Runtime:
      - '0.008891'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2018-02-04T02:01:14.683Z","updated_at":"2018-02-04T02:01:14.683Z","token":"token
        2","id":"more_posts","document_total":0,"last_document_sent":null}}'
    http_version: 
  recorded_at: Sun, 04 Feb 2018 02:01:16 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/search?handles=blog_posts&include=title,path,created,changed,updated_at&query&size=100&sort_by_date=true
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - '30'
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '387'
      Etag:
      - W/"1d1eb517535cb7923774465205cbe89f"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 4ccc5853-c08a-4742-a491-dc0edd6b825a
      X-Runtime:
      - '0.034694'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","metadata":{"total":2,"offset":0,"suggestion":null},"results":[{"path":"http://www.doc1.gov","updated_at":"2018-02-04
        02:01:14 UTC","created":"2016-01-01 10:00:00 UTC","title":"document 1","changed":null},{"path":"http://www.doc2.dov","updated_at":"2018-02-04
        02:01:15 UTC","created":"2015-12-31 10:00:00 UTC","title":"document 2","changed":null}]}'
    http_version: 
  recorded_at: Sun, 04 Feb 2018 02:01:16 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/search?handles=blog_posts&include=title,path,created,changed,updated_at&query=more&size=100&sort_by_date=true
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - '30'
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '245'
      Etag:
      - W/"168d56ec7742ec26b88a65576cf4da90"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 3895562e-c775-4ff2-83f5-2b305fdc602e
      X-Runtime:
      - '0.118874'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","metadata":{"total":1,"offset":0,"suggestion":null},"results":[{"path":"http://www.doc2.dov","updated_at":"2018-02-04
        02:01:15 UTC","created":"2015-12-31 10:00:00 UTC","title":"document 2","changed":null}]}'
    http_version: 
  recorded_at: Sun, 04 Feb 2018 02:01:16 GMT
recorded_with: VCR 4.0.0
