---
http_interactions:
- request:
    method: post
    uri: http://localhost:8081/api/v1/collections
    body:
      encoding: UTF-8
      string: '{"handle":"blog_posts","token":"token 1"}'
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - '30'
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '98'
      Etag:
      - W/"b10142013700819fa2075927cf1902b8"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 6c2c154b-ea5f-4d03-90ee-c94ee5fe8405
      X-Runtime:
      - '0.287128'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","user_message":"Your collection
        was successfully created."}'
    http_version: 
  recorded_at: Mon, 29 Jan 2018 20:20:26 GMT
- request:
    method: post
    uri: http://localhost:8081/api/v1/collections
    body:
      encoding: UTF-8
      string: '{"handle":"more_posts","token":"token 2"}'
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - '30'
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '98'
      Etag:
      - W/"b10142013700819fa2075927cf1902b8"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 2d598d97-e0c3-485b-95e2-12a3477d4c19
      X-Runtime:
      - '0.065660'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","user_message":"Your collection
        was successfully created."}'
    http_version: 
  recorded_at: Mon, 29 Jan 2018 20:20:27 GMT
- request:
    method: post
    uri: http://localhost:8081/api/v1/documents
    body:
      encoding: UTF-8
      string: '{"document_id":1517257227.2957592,"title":"document 1","path":"http://www.doc1.gov","created":"2016-01-01T10:00:00Z","content":"my
        content"}'
    headers:
      Authorization:
      - Basic YmxvZ19wb3N0czp0b2tlbiAx
      User-Agent:
      - Faraday v0.9.2
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - '30'
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '96'
      Etag:
      - W/"5da9d2d01901b587865ccda85ffc4afb"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 5f7acda6-fd69-43b4-a940-917f2b26350b
      X-Runtime:
      - '0.483301'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","user_message":"Your document
        was successfully created."}'
    http_version: 
  recorded_at: Mon, 29 Jan 2018 20:20:27 GMT
- request:
    method: post
    uri: http://localhost:8081/api/v1/documents
    body:
      encoding: UTF-8
      string: '{"document_id":1517257227.7849631,"title":"document 2","path":"http://www.doc2.dov","created":"2015-12-31T10:00:00Z","content":"more
        content"}'
    headers:
      Authorization:
      - Basic YmxvZ19wb3N0czp0b2tlbiAx
      User-Agent:
      - Faraday v0.9.2
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - '30'
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '96'
      Etag:
      - W/"5da9d2d01901b587865ccda85ffc4afb"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 1485aa4f-7c6c-490f-907e-d4318880965d
      X-Runtime:
      - '0.016674'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","user_message":"Your document
        was successfully created."}'
    http_version: 
  recorded_at: Mon, 29 Jan 2018 20:20:27 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/blog_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - '30'
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '236'
      Etag:
      - W/"41c5c6759cf025463cb5542bc2277082"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - d8f5b016-4bb3-4375-931d-622ecf3aede0
      X-Runtime:
      - '0.139147'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2018-01-29T20:20:26.260Z","updated_at":"2018-01-29T20:20:26.262Z","token":"token
        1","id":"blog_posts","document_total":2,"last_document_sent":"2018-01-29 20:20:27
        UTC"}}'
    http_version: 
  recorded_at: Mon, 29 Jan 2018 20:20:32 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/blog_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - '30'
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '236'
      Etag:
      - W/"41c5c6759cf025463cb5542bc2277082"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 492b6ffc-6173-4862-bf94-f4608abf9425
      X-Runtime:
      - '0.020709'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2018-01-29T20:20:26.260Z","updated_at":"2018-01-29T20:20:26.262Z","token":"token
        1","id":"blog_posts","document_total":2,"last_document_sent":"2018-01-29 20:20:27
        UTC"}}'
    http_version: 
  recorded_at: Mon, 29 Jan 2018 20:20:32 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/blog_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - '30'
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '236'
      Etag:
      - W/"41c5c6759cf025463cb5542bc2277082"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - e15ba1ce-c453-4a88-a0de-fcead34940e8
      X-Runtime:
      - '0.012711'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2018-01-29T20:20:26.260Z","updated_at":"2018-01-29T20:20:26.262Z","token":"token
        1","id":"blog_posts","document_total":2,"last_document_sent":"2018-01-29 20:20:27
        UTC"}}'
    http_version: 
  recorded_at: Mon, 29 Jan 2018 20:20:32 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/blog_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - '30'
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '236'
      Etag:
      - W/"41c5c6759cf025463cb5542bc2277082"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - fcc01789-9b44-4b3a-ac93-3a68ab209bcc
      X-Runtime:
      - '0.010246'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2018-01-29T20:20:26.260Z","updated_at":"2018-01-29T20:20:26.262Z","token":"token
        1","id":"blog_posts","document_total":2,"last_document_sent":"2018-01-29 20:20:27
        UTC"}}'
    http_version: 
  recorded_at: Mon, 29 Jan 2018 20:20:32 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/more_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - '30'
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '215'
      Etag:
      - W/"f81d18b6bcf1ecb1e540d3515c49a5e1"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 523c06d2-dbfe-4425-a9c5-b21f351fdcb9
      X-Runtime:
      - '0.013846'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2018-01-29T20:20:27.216Z","updated_at":"2018-01-29T20:20:27.216Z","token":"token
        2","id":"more_posts","document_total":0,"last_document_sent":null}}'
    http_version: 
  recorded_at: Mon, 29 Jan 2018 20:20:32 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/more_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - '30'
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '215'
      Etag:
      - W/"f81d18b6bcf1ecb1e540d3515c49a5e1"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - eb30886d-2e17-41f4-8984-87a3a06295d8
      X-Runtime:
      - '0.009242'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2018-01-29T20:20:27.216Z","updated_at":"2018-01-29T20:20:27.216Z","token":"token
        2","id":"more_posts","document_total":0,"last_document_sent":null}}'
    http_version: 
  recorded_at: Mon, 29 Jan 2018 20:20:32 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/more_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - '30'
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '215'
      Etag:
      - W/"f81d18b6bcf1ecb1e540d3515c49a5e1"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 8d180808-8af3-478f-8f16-f8a4d699ceab
      X-Runtime:
      - '0.010132'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2018-01-29T20:20:27.216Z","updated_at":"2018-01-29T20:20:27.216Z","token":"token
        2","id":"more_posts","document_total":0,"last_document_sent":null}}'
    http_version: 
  recorded_at: Mon, 29 Jan 2018 20:20:32 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/search?handles=blog_posts&include=title,path,created,changed,updated_at&query&size=100&sort_by_date=true
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - '30'
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '387'
      Etag:
      - W/"889f3d86cfd17daae93cb01d33c82759"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - ec27b3b4-a78f-4b85-a499-086140ac8642
      X-Runtime:
      - '0.030209'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","metadata":{"total":2,"offset":0,"suggestion":null},"results":[{"path":"http://www.doc1.gov","updated_at":"2018-01-29
        20:20:27 UTC","created":"2016-01-01 10:00:00 UTC","title":"document 1","changed":null},{"path":"http://www.doc2.dov","updated_at":"2018-01-29
        20:20:27 UTC","created":"2015-12-31 10:00:00 UTC","title":"document 2","changed":null}]}'
    http_version: 
  recorded_at: Mon, 29 Jan 2018 20:20:32 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/search?handles=blog_posts&include=title,path,created,changed,updated_at&query=more&size=100&sort_by_date=true
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - '30'
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '245'
      Etag:
      - W/"45480449806cd62a152a053275266e20"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 93bf4242-344a-4e01-9754-03f0dc689397
      X-Runtime:
      - '0.153143'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","metadata":{"total":1,"offset":0,"suggestion":null},"results":[{"path":"http://www.doc2.dov","updated_at":"2018-01-29
        20:20:27 UTC","created":"2015-12-31 10:00:00 UTC","title":"document 2","changed":null}]}'
    http_version: 
  recorded_at: Mon, 29 Jan 2018 20:20:32 GMT
recorded_with: VCR 3.0.3
