---
http_interactions:
- request:
    method: post
    uri: http://localhost:8081/api/v1/collections
    body:
      encoding: UTF-8
      string: '{"handle":"blog_posts","token":"token 1"}'
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '98'
      Etag:
      - W/"ac991f2b4744107c61fd0f600e2878e6"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 0862adce-54e4-4620-9268-ec6766f0c10a
      X-Runtime:
      - '0.248965'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","user_message":"Your collection
        was successfully created."}'
    http_version: 
  recorded_at: Fri, 12 May 2017 19:56:50 GMT
- request:
    method: post
    uri: http://localhost:8081/api/v1/collections
    body:
      encoding: UTF-8
      string: '{"handle":"more_posts","token":"token 2"}'
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '98'
      Etag:
      - W/"ac991f2b4744107c61fd0f600e2878e6"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 575dbd68-8697-4db7-abfb-5a8afb4a7765
      X-Runtime:
      - '0.104039'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","user_message":"Your collection
        was successfully created."}'
    http_version: 
  recorded_at: Fri, 12 May 2017 19:56:50 GMT
- request:
    method: post
    uri: http://localhost:8081/api/v1/documents
    body:
      encoding: UTF-8
      string: content=my+content&created=2016-01-01T10%3A00%3A00Z&document_id=1494619010.482381&handle=blog_posts&path=http%3A%2F%2Fwww.doc1.gov&title=document+1&token=token+1
    headers:
      User-Agent:
      - Faraday v0.9.2
      Authorization:
      - Basic YmxvZ19wb3N0czp0b2tlbiAx
      Content-Type:
      - application/x-www-form-urlencoded
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '96'
      Etag:
      - W/"08eca8dc90f40bf3d18ea4cc4934f24f"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 855ff39d-fb08-4c2e-a5a3-e2932b15c1c7
      X-Runtime:
      - '0.028200'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","user_message":"Your document
        was successfully created."}'
    http_version: 
  recorded_at: Fri, 12 May 2017 19:56:50 GMT
- request:
    method: post
    uri: http://localhost:8081/api/v1/documents
    body:
      encoding: UTF-8
      string: content=more+content&created=2015-12-31T10%3A00%3A00Z&document_id=1494619010.517898&handle=blog_posts&path=http%3A%2F%2Fwww.doc2.dov&title=document+2&token=token+1
    headers:
      User-Agent:
      - Faraday v0.9.2
      Authorization:
      - Basic YmxvZ19wb3N0czp0b2tlbiAx
      Content-Type:
      - application/x-www-form-urlencoded
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '96'
      Etag:
      - W/"08eca8dc90f40bf3d18ea4cc4934f24f"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - c59ecc81-20c8-4808-b80d-8c7880f845a8
      X-Runtime:
      - '0.018957'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","user_message":"Your document
        was successfully created."}'
    http_version: 
  recorded_at: Fri, 12 May 2017 19:56:50 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/blog_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '248'
      Etag:
      - W/"d6627bc4ca9ecae53ccb1fbceddcd26b"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 58ac44f3-a9f2-47fb-8383-a5e9fe60953f
      X-Runtime:
      - '0.015234'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2017-05-12T19:56:50.183+00:00","updated_at":"2017-05-12T19:56:50.183+00:00","token":"token
        1","id":"blog_posts","document_total":2,"last_document_sent":"2017-05-12T19:56:50+00:00"}}'
    http_version: 
  recorded_at: Fri, 12 May 2017 19:56:56 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/blog_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '248'
      Etag:
      - W/"d6627bc4ca9ecae53ccb1fbceddcd26b"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - d2c2d4af-a57d-4893-9b26-59302778549d
      X-Runtime:
      - '0.007420'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2017-05-12T19:56:50.183+00:00","updated_at":"2017-05-12T19:56:50.183+00:00","token":"token
        1","id":"blog_posts","document_total":2,"last_document_sent":"2017-05-12T19:56:50+00:00"}}'
    http_version: 
  recorded_at: Fri, 12 May 2017 19:56:56 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/blog_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '248'
      Etag:
      - W/"d6627bc4ca9ecae53ccb1fbceddcd26b"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 57e35118-eb89-4cd7-a529-261dc67daf8d
      X-Runtime:
      - '0.007457'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2017-05-12T19:56:50.183+00:00","updated_at":"2017-05-12T19:56:50.183+00:00","token":"token
        1","id":"blog_posts","document_total":2,"last_document_sent":"2017-05-12T19:56:50+00:00"}}'
    http_version: 
  recorded_at: Fri, 12 May 2017 19:56:56 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/blog_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '248'
      Etag:
      - W/"d6627bc4ca9ecae53ccb1fbceddcd26b"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 60a4d1ca-a41d-4239-8997-e016b01173b2
      X-Runtime:
      - '0.008475'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2017-05-12T19:56:50.183+00:00","updated_at":"2017-05-12T19:56:50.183+00:00","token":"token
        1","id":"blog_posts","document_total":2,"last_document_sent":"2017-05-12T19:56:50+00:00"}}'
    http_version: 
  recorded_at: Fri, 12 May 2017 19:56:56 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/more_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '225'
      Etag:
      - W/"95e5b49bc7e5df358187b18d2c8786d1"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - c89171d3-f3f8-403d-bf28-82efe93ed499
      X-Runtime:
      - '0.007139'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2017-05-12T19:56:50.342+00:00","updated_at":"2017-05-12T19:56:50.342+00:00","token":"token
        2","id":"more_posts","document_total":0,"last_document_sent":null}}'
    http_version: 
  recorded_at: Fri, 12 May 2017 19:56:56 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/more_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '225'
      Etag:
      - W/"95e5b49bc7e5df358187b18d2c8786d1"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - b84c27c8-5424-4285-9ae6-dd2412991b9d
      X-Runtime:
      - '0.007700'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2017-05-12T19:56:50.342+00:00","updated_at":"2017-05-12T19:56:50.342+00:00","token":"token
        2","id":"more_posts","document_total":0,"last_document_sent":null}}'
    http_version: 
  recorded_at: Fri, 12 May 2017 19:56:56 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/more_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '225'
      Etag:
      - W/"95e5b49bc7e5df358187b18d2c8786d1"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - d5de1842-baf2-4e57-a801-4f73e8728e9c
      X-Runtime:
      - '0.008024'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2017-05-12T19:56:50.342+00:00","updated_at":"2017-05-12T19:56:50.342+00:00","token":"token
        2","id":"more_posts","document_total":0,"last_document_sent":null}}'
    http_version: 
  recorded_at: Fri, 12 May 2017 19:56:56 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/search?handles=blog_posts&include=title,path,created,changed,updated_at&query&size=100&sort_by_date=true
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '395'
      Etag:
      - W/"27bdf7d798f080a41c6f3e8093dbfc31"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 35d05258-16a0-4ee5-afbc-ee3d5a2ed103
      X-Runtime:
      - '0.021055'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","metadata":{"total":2,"offset":0,"suggestion":null},"results":[{"path":"http://www.doc1.gov","updated_at":"2017-05-12T19:56:50+00:00","created":"2016-01-01T10:00:00+00:00","title":"document
        1","changed":null},{"path":"http://www.doc2.dov","updated_at":"2017-05-12T19:56:50+00:00","created":"2015-12-31T10:00:00+00:00","title":"document
        2","changed":null}]}'
    http_version: 
  recorded_at: Fri, 12 May 2017 19:56:57 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/search?handles=blog_posts&include=title,path,created,changed,updated_at&query=more&size=100&sort_by_date=true
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '249'
      Etag:
      - W/"a3f6d395012c9cbbcf8a3b3885556f2b"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - cf304057-2b02-41f5-83db-21e5bb6520a6
      X-Runtime:
      - '0.059376'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","metadata":{"total":1,"offset":0,"suggestion":null},"results":[{"path":"http://www.doc2.dov","updated_at":"2017-05-12T19:56:50+00:00","created":"2015-12-31T10:00:00+00:00","title":"document
        2","changed":null}]}'
    http_version: 
  recorded_at: Fri, 12 May 2017 19:56:57 GMT
recorded_with: VCR 3.0.3
