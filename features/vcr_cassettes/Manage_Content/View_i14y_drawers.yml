---
http_interactions:
- request:
    method: post
    uri: http://localhost:8081/api/v1/collections
    body:
      encoding: UTF-8
      string: '{"handle":"blog_posts","token":"token 1"}'
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '98'
      Etag:
      - W/"ac991f2b4744107c61fd0f600e2878e6"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - db1e4144-b61f-4a8f-8733-719d14a47ebc
      X-Runtime:
      - '2.837651'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","user_message":"Your collection
        was successfully created."}'
    http_version: 
  recorded_at: Thu, 08 Dec 2016 22:57:13 GMT
- request:
    method: post
    uri: http://localhost:8081/api/v1/collections
    body:
      encoding: UTF-8
      string: '{"handle":"more_posts","token":"token 2"}'
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '98'
      Etag:
      - W/"ac991f2b4744107c61fd0f600e2878e6"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 3f52c506-89d7-498b-aa26-b3e204fe9961
      X-Runtime:
      - '0.143238'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","user_message":"Your collection
        was successfully created."}'
    http_version: 
  recorded_at: Thu, 08 Dec 2016 22:57:13 GMT
- request:
    method: post
    uri: http://localhost:8081/api/v1/documents
    body:
      encoding: UTF-8
      string: content=my+content&created=2016-01-01T10%3A00%3A00Z&document_id=1481237833.31317&handle=blog_posts&path=http%3A%2F%2Fwww.doc1.gov&title=document+1&token=token+1
    headers:
      User-Agent:
      - Faraday v0.9.2
      Authorization:
      - Basic YmxvZ19wb3N0czp0b2tlbiAx
      Content-Type:
      - application/x-www-form-urlencoded
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 422
      message: Unprocessable Entity
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '73'
      Cache-Control:
      - no-cache
      X-Request-Id:
      - 1e711e2a-19cb-456d-8ab5-96222e0465b5
      X-Runtime:
      - '9.068528'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"developer_message":"Document already exists with that ID","status":422}'
    http_version: 
  recorded_at: Thu, 08 Dec 2016 22:57:22 GMT
- request:
    method: post
    uri: http://localhost:8081/api/v1/documents
    body:
      encoding: UTF-8
      string: content=more+content&created=2015-12-31T10%3A00%3A00Z&document_id=1481237842.389903&handle=blog_posts&path=http%3A%2F%2Fwww.doc2.dov&title=document+2&token=token+1
    headers:
      User-Agent:
      - Faraday v0.9.2
      Authorization:
      - Basic YmxvZ19wb3N0czp0b2tlbiAx
      Content-Type:
      - application/x-www-form-urlencoded
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '96'
      Etag:
      - W/"08eca8dc90f40bf3d18ea4cc4934f24f"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 90afa0a8-873d-41ff-bc7e-8587ad4f56d4
      X-Runtime:
      - '0.302107'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","user_message":"Your document
        was successfully created."}'
    http_version: 
  recorded_at: Thu, 08 Dec 2016 22:57:22 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/blog_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '248'
      Etag:
      - W/"90a235fee4ca7a874df40abb810292fd"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - e0adb784-b1aa-4729-aa47-80466aaac439
      X-Runtime:
      - '1.563930'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2016-12-08T22:57:11.163+00:00","updated_at":"2016-12-08T22:57:11.171+00:00","token":"token
        1","id":"blog_posts","document_total":2,"last_document_sent":"2016-12-08T22:57:22+00:00"}}'
    http_version: 
  recorded_at: Thu, 08 Dec 2016 22:57:26 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/blog_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '248'
      Etag:
      - W/"90a235fee4ca7a874df40abb810292fd"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 994fced3-afd0-4ea7-8a5b-d1318743eacd
      X-Runtime:
      - '0.026370'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2016-12-08T22:57:11.163+00:00","updated_at":"2016-12-08T22:57:11.171+00:00","token":"token
        1","id":"blog_posts","document_total":2,"last_document_sent":"2016-12-08T22:57:22+00:00"}}'
    http_version: 
  recorded_at: Thu, 08 Dec 2016 22:57:26 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/blog_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '248'
      Etag:
      - W/"90a235fee4ca7a874df40abb810292fd"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 244fce4c-c445-49be-8fd9-742c762ae6f5
      X-Runtime:
      - '0.008498'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2016-12-08T22:57:11.163+00:00","updated_at":"2016-12-08T22:57:11.171+00:00","token":"token
        1","id":"blog_posts","document_total":2,"last_document_sent":"2016-12-08T22:57:22+00:00"}}'
    http_version: 
  recorded_at: Thu, 08 Dec 2016 22:57:26 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/blog_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '248'
      Etag:
      - W/"90a235fee4ca7a874df40abb810292fd"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - ff4dac81-3d5c-44be-814a-6cd6e518929b
      X-Runtime:
      - '0.037875'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2016-12-08T22:57:11.163+00:00","updated_at":"2016-12-08T22:57:11.171+00:00","token":"token
        1","id":"blog_posts","document_total":2,"last_document_sent":"2016-12-08T22:57:22+00:00"}}'
    http_version: 
  recorded_at: Thu, 08 Dec 2016 22:57:26 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/more_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '225'
      Etag:
      - W/"4262fe858d11a7aadeaa5e6617971325"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - ded7eb21-85ed-4d0c-834c-3d4176c1b25a
      X-Runtime:
      - '0.007744'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2016-12-08T22:57:13.075+00:00","updated_at":"2016-12-08T22:57:13.075+00:00","token":"token
        2","id":"more_posts","document_total":0,"last_document_sent":null}}'
    http_version: 
  recorded_at: Thu, 08 Dec 2016 22:57:26 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/more_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '225'
      Etag:
      - W/"4262fe858d11a7aadeaa5e6617971325"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 16800b83-0894-43c4-b1af-9e7b4a051e29
      X-Runtime:
      - '0.006971'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2016-12-08T22:57:13.075+00:00","updated_at":"2016-12-08T22:57:13.075+00:00","token":"token
        2","id":"more_posts","document_total":0,"last_document_sent":null}}'
    http_version: 
  recorded_at: Thu, 08 Dec 2016 22:57:26 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/more_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '225'
      Etag:
      - W/"4262fe858d11a7aadeaa5e6617971325"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - f40bba96-c24f-41d5-9271-a95aaf7c73ad
      X-Runtime:
      - '0.007476'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2016-12-08T22:57:13.075+00:00","updated_at":"2016-12-08T22:57:13.075+00:00","token":"token
        2","id":"more_posts","document_total":0,"last_document_sent":null}}'
    http_version: 
  recorded_at: Thu, 08 Dec 2016 22:57:26 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/search?handles=blog_posts&include=title,path,created,changed,updated_at&query&size=100&sort_by_date=true
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '395'
      Etag:
      - W/"61dd1a2d981f341b383d49d35c14b6e0"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 84a66513-9d64-451a-9626-cbbeec98f517
      X-Runtime:
      - '0.236798'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","metadata":{"total":2,"offset":0,"suggestion":null},"results":[{"path":"http://www.doc1.gov","updated_at":"2016-12-08T22:57:13+00:00","created":"2016-01-01T10:00:00+00:00","title":"document
        1","changed":null},{"path":"http://www.doc2.dov","updated_at":"2016-12-08T22:57:22+00:00","created":"2015-12-31T10:00:00+00:00","title":"document
        2","changed":null}]}'
    http_version: 
  recorded_at: Thu, 08 Dec 2016 22:57:26 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/search?handles=blog_posts&include=title,path,created,changed,updated_at&query=more&size=100&sort_by_date=true
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '249'
      Etag:
      - W/"6d664fe3298e72d2b8bf407473d0f55c"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - ce3aa4d3-7d97-428c-9cf8-e8bc8a5b59bd
      X-Runtime:
      - '0.594518'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","metadata":{"total":1,"offset":0,"suggestion":null},"results":[{"path":"http://www.doc2.dov","updated_at":"2016-12-08T22:57:22+00:00","created":"2015-12-31T10:00:00+00:00","title":"document
        2","changed":null}]}'
    http_version: 
  recorded_at: Thu, 08 Dec 2016 22:57:27 GMT
recorded_with: VCR 3.0.3
