---
http_interactions:
- request:
    method: post
    uri: http://localhost:8081/api/v1/collections
    body:
      encoding: UTF-8
      string: '{"handle":"blog_posts","token":"token 1"}'
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '98'
      Etag:
      - W/"b10142013700819fa2075927cf1902b8"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 95d066e7-24fc-436e-a930-c3c8e8ec1db4
      X-Runtime:
      - '0.063070'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","user_message":"Your collection
        was successfully created."}'
    http_version: 
  recorded_at: Mon, 18 Sep 2017 21:44:47 GMT
- request:
    method: post
    uri: http://localhost:8081/api/v1/collections
    body:
      encoding: UTF-8
      string: '{"handle":"more_posts","token":"token 2"}'
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '98'
      Etag:
      - W/"b10142013700819fa2075927cf1902b8"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - f6334145-dc30-49b1-8e28-ea3df71a3eaa
      X-Runtime:
      - '0.053161'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","user_message":"Your collection
        was successfully created."}'
    http_version: 
  recorded_at: Mon, 18 Sep 2017 21:44:48 GMT
- request:
    method: post
    uri: http://localhost:8081/api/v1/documents
    body:
      encoding: UTF-8
      string: '{"document_id":1505771088.0758982,"title":"document 1","path":"http://www.doc1.gov","created":"2016-01-01T10:00:00Z","content":"my
        content"}'
    headers:
      Authorization:
      - Basic YmxvZ19wb3N0czp0b2tlbiAx
      User-Agent:
      - Faraday v0.9.2
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '96'
      Etag:
      - W/"5da9d2d01901b587865ccda85ffc4afb"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 85b451eb-5612-4168-8b59-83f1065d803d
      X-Runtime:
      - '0.008160'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","user_message":"Your document
        was successfully created."}'
    http_version: 
  recorded_at: Mon, 18 Sep 2017 21:44:48 GMT
- request:
    method: post
    uri: http://localhost:8081/api/v1/documents
    body:
      encoding: UTF-8
      string: '{"document_id":1505771088.0928981,"title":"document 2","path":"http://www.doc2.dov","created":"2015-12-31T10:00:00Z","content":"more
        content"}'
    headers:
      Authorization:
      - Basic YmxvZ19wb3N0czp0b2tlbiAx
      User-Agent:
      - Faraday v0.9.2
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '96'
      Etag:
      - W/"5da9d2d01901b587865ccda85ffc4afb"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 2e3ac916-ee10-4fb1-8714-1072b8a9e2cc
      X-Runtime:
      - '0.015158'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","user_message":"Your document
        was successfully created."}'
    http_version: 
  recorded_at: Mon, 18 Sep 2017 21:44:48 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/blog_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '246'
      Etag:
      - W/"a071727d7078e63b3c639be527e3d6a8"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 3b05c6d4-0c40-4193-b0bd-b8597556fe13
      X-Runtime:
      - '0.010048'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2017-09-18T21:44:47.927+00:00","updated_at":"2017-09-18T21:44:47.927+00:00","token":"token
        1","id":"blog_posts","document_total":2,"last_document_sent":"2017-09-18 21:44:48
        UTC"}}'
    http_version: 
  recorded_at: Mon, 18 Sep 2017 21:44:53 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/blog_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '246'
      Etag:
      - W/"a071727d7078e63b3c639be527e3d6a8"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 94834111-a3fa-4764-9840-c784b4201d0a
      X-Runtime:
      - '0.006354'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2017-09-18T21:44:47.927+00:00","updated_at":"2017-09-18T21:44:47.927+00:00","token":"token
        1","id":"blog_posts","document_total":2,"last_document_sent":"2017-09-18 21:44:48
        UTC"}}'
    http_version: 
  recorded_at: Mon, 18 Sep 2017 21:44:53 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/blog_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '246'
      Etag:
      - W/"a071727d7078e63b3c639be527e3d6a8"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - a711c34b-0a2b-4b74-89ef-072fb39f5693
      X-Runtime:
      - '0.005637'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2017-09-18T21:44:47.927+00:00","updated_at":"2017-09-18T21:44:47.927+00:00","token":"token
        1","id":"blog_posts","document_total":2,"last_document_sent":"2017-09-18 21:44:48
        UTC"}}'
    http_version: 
  recorded_at: Mon, 18 Sep 2017 21:44:53 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/blog_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '246'
      Etag:
      - W/"a071727d7078e63b3c639be527e3d6a8"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 2de06c13-6cf8-411f-82bb-29627ae46fff
      X-Runtime:
      - '0.005317'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2017-09-18T21:44:47.927+00:00","updated_at":"2017-09-18T21:44:47.927+00:00","token":"token
        1","id":"blog_posts","document_total":2,"last_document_sent":"2017-09-18 21:44:48
        UTC"}}'
    http_version: 
  recorded_at: Mon, 18 Sep 2017 21:44:53 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/more_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '225'
      Etag:
      - W/"4b8861bd9243942cdc7633cf431b2a8f"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 02d57f18-7b02-4209-9938-f5f85dd2d935
      X-Runtime:
      - '0.005860'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2017-09-18T21:44:48.008+00:00","updated_at":"2017-09-18T21:44:48.009+00:00","token":"token
        2","id":"more_posts","document_total":0,"last_document_sent":null}}'
    http_version: 
  recorded_at: Mon, 18 Sep 2017 21:44:53 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/more_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '225'
      Etag:
      - W/"4b8861bd9243942cdc7633cf431b2a8f"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 5560ebe9-e7b4-42ff-991b-5b25a3fbde82
      X-Runtime:
      - '0.005540'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2017-09-18T21:44:48.008+00:00","updated_at":"2017-09-18T21:44:48.009+00:00","token":"token
        2","id":"more_posts","document_total":0,"last_document_sent":null}}'
    http_version: 
  recorded_at: Mon, 18 Sep 2017 21:44:53 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/more_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '225'
      Etag:
      - W/"4b8861bd9243942cdc7633cf431b2a8f"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 55d5271e-a250-4414-a3b7-a6cf659bea77
      X-Runtime:
      - '0.004584'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2017-09-18T21:44:48.008+00:00","updated_at":"2017-09-18T21:44:48.009+00:00","token":"token
        2","id":"more_posts","document_total":0,"last_document_sent":null}}'
    http_version: 
  recorded_at: Mon, 18 Sep 2017 21:44:53 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/search?handles=blog_posts&include=title,path,created,changed,updated_at&query&size=100&sort_by_date=true
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '387'
      Etag:
      - W/"363a2777d2f097595a94214d42fc4fab"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - cfcdbe31-ba8e-41ba-9e9c-0edc0ca30e67
      X-Runtime:
      - '0.006172'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","metadata":{"total":2,"offset":0,"suggestion":null},"results":[{"path":"http://www.doc1.gov","updated_at":"2017-09-18
        21:44:48 UTC","created":"2016-01-01 10:00:00 UTC","title":"document 1","changed":null},{"path":"http://www.doc2.dov","updated_at":"2017-09-18
        21:44:48 UTC","created":"2015-12-31 10:00:00 UTC","title":"document 2","changed":null}]}'
    http_version: 
  recorded_at: Mon, 18 Sep 2017 21:44:53 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/search?handles=blog_posts&include=title,path,created,changed,updated_at&query=more&size=100&sort_by_date=true
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '245'
      Etag:
      - W/"6e141a35936ef74be1f24923a014bd17"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 1688307a-b4cb-49c9-9e9a-dfa19738c8ad
      X-Runtime:
      - '0.008616'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","metadata":{"total":1,"offset":0,"suggestion":null},"results":[{"path":"http://www.doc2.dov","updated_at":"2017-09-18
        21:44:48 UTC","created":"2015-12-31 10:00:00 UTC","title":"document 2","changed":null}]}'
    http_version: 
  recorded_at: Mon, 18 Sep 2017 21:44:53 GMT
recorded_with: VCR 3.0.3
