---
http_interactions:
- request:
    method: post
    uri: http://localhost:8081/api/v1/collections
    body:
      encoding: UTF-8
      string: '{"handle":"blog_posts","token":"token 1"}'
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '98'
      Etag:
      - W/"b10142013700819fa2075927cf1902b8"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - '08464e10-09e3-4d99-8769-b6870580afa7'
      X-Runtime:
      - '0.167039'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","user_message":"Your collection
        was successfully created."}'
    http_version: 
  recorded_at: Mon, 25 Sep 2017 17:05:13 GMT
- request:
    method: post
    uri: http://localhost:8081/api/v1/collections
    body:
      encoding: UTF-8
      string: '{"handle":"more_posts","token":"token 2"}'
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '98'
      Etag:
      - W/"b10142013700819fa2075927cf1902b8"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 5ada845c-51d5-4616-948b-a075f5c96d22
      X-Runtime:
      - '0.057352'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","user_message":"Your collection
        was successfully created."}'
    http_version: 
  recorded_at: Mon, 25 Sep 2017 17:05:13 GMT
- request:
    method: post
    uri: http://localhost:8081/api/v1/documents
    body:
      encoding: UTF-8
      string: '{"document_id":1506359113.709138,"title":"document 1","path":"http://www.doc1.gov","created":"2016-01-01T10:00:00Z","content":"my
        content"}'
    headers:
      Authorization:
      - Basic YmxvZ19wb3N0czp0b2tlbiAx
      User-Agent:
      - Faraday v0.9.2
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '96'
      Etag:
      - W/"5da9d2d01901b587865ccda85ffc4afb"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - b6bb3425-8e58-4623-a81f-228f023e0c45
      X-Runtime:
      - '0.146048'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","user_message":"Your document
        was successfully created."}'
    http_version: 
  recorded_at: Mon, 25 Sep 2017 17:05:13 GMT
- request:
    method: post
    uri: http://localhost:8081/api/v1/documents
    body:
      encoding: UTF-8
      string: '{"document_id":1506359113.863337,"title":"document 2","path":"http://www.doc2.dov","created":"2015-12-31T10:00:00Z","content":"more
        content"}'
    headers:
      Authorization:
      - Basic YmxvZ19wb3N0czp0b2tlbiAx
      User-Agent:
      - Faraday v0.9.2
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '96'
      Etag:
      - W/"5da9d2d01901b587865ccda85ffc4afb"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 95cac808-f642-4d33-83e2-97a4ca64f435
      X-Runtime:
      - '0.008144'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","user_message":"Your document
        was successfully created."}'
    http_version: 
  recorded_at: Mon, 25 Sep 2017 17:05:13 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/blog_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '246'
      Etag:
      - W/"7276aba412b2bd8399b420ae2b657783"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 74661f54-5843-495a-af03-570112dfe3a1
      X-Runtime:
      - '0.020651'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2017-09-25T17:05:13.505+00:00","updated_at":"2017-09-25T17:05:13.506+00:00","token":"token
        1","id":"blog_posts","document_total":2,"last_document_sent":"2017-09-25 17:05:13
        UTC"}}'
    http_version: 
  recorded_at: Mon, 25 Sep 2017 17:05:18 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/blog_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '246'
      Etag:
      - W/"7276aba412b2bd8399b420ae2b657783"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - ae8bf597-2ce9-4768-a852-3748d929d6e2
      X-Runtime:
      - '0.006381'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2017-09-25T17:05:13.505+00:00","updated_at":"2017-09-25T17:05:13.506+00:00","token":"token
        1","id":"blog_posts","document_total":2,"last_document_sent":"2017-09-25 17:05:13
        UTC"}}'
    http_version: 
  recorded_at: Mon, 25 Sep 2017 17:05:18 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/blog_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '246'
      Etag:
      - W/"7276aba412b2bd8399b420ae2b657783"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 48a39e57-0ab2-4095-8fb1-d31cd5a99cf0
      X-Runtime:
      - '0.005803'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2017-09-25T17:05:13.505+00:00","updated_at":"2017-09-25T17:05:13.506+00:00","token":"token
        1","id":"blog_posts","document_total":2,"last_document_sent":"2017-09-25 17:05:13
        UTC"}}'
    http_version: 
  recorded_at: Mon, 25 Sep 2017 17:05:18 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/blog_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '246'
      Etag:
      - W/"7276aba412b2bd8399b420ae2b657783"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 45760f39-6ea3-4709-a04d-76974f766cfd
      X-Runtime:
      - '0.007498'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2017-09-25T17:05:13.505+00:00","updated_at":"2017-09-25T17:05:13.506+00:00","token":"token
        1","id":"blog_posts","document_total":2,"last_document_sent":"2017-09-25 17:05:13
        UTC"}}'
    http_version: 
  recorded_at: Mon, 25 Sep 2017 17:05:18 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/more_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '225'
      Etag:
      - W/"8bd832526d36f730d08dc7c89890dcb0"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - c93806eb-dc6a-4a53-8641-bf4165d972d9
      X-Runtime:
      - '0.006190'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2017-09-25T17:05:13.636+00:00","updated_at":"2017-09-25T17:05:13.636+00:00","token":"token
        2","id":"more_posts","document_total":0,"last_document_sent":null}}'
    http_version: 
  recorded_at: Mon, 25 Sep 2017 17:05:18 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/more_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '225'
      Etag:
      - W/"8bd832526d36f730d08dc7c89890dcb0"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 2dcaa2fc-2fae-42b6-810c-30fd01f72568
      X-Runtime:
      - '0.005111'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2017-09-25T17:05:13.636+00:00","updated_at":"2017-09-25T17:05:13.636+00:00","token":"token
        2","id":"more_posts","document_total":0,"last_document_sent":null}}'
    http_version: 
  recorded_at: Mon, 25 Sep 2017 17:05:19 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/more_posts
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '225'
      Etag:
      - W/"8bd832526d36f730d08dc7c89890dcb0"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 1210fa17-17bc-4f95-9e58-ae1b100be88a
      X-Runtime:
      - '0.005487'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","collection":{"created_at":"2017-09-25T17:05:13.636+00:00","updated_at":"2017-09-25T17:05:13.636+00:00","token":"token
        2","id":"more_posts","document_total":0,"last_document_sent":null}}'
    http_version: 
  recorded_at: Mon, 25 Sep 2017 17:05:19 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/search?handles=blog_posts&include=title,path,created,changed,updated_at&query&size=100&sort_by_date=true
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '387'
      Etag:
      - W/"4f02786490a150a79383121b034577a4"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - a0eea3b1-a2c0-4c52-bcee-d38f5ce50b95
      X-Runtime:
      - '0.021982'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","metadata":{"total":2,"offset":0,"suggestion":null},"results":[{"path":"http://www.doc1.gov","updated_at":"2017-09-25
        17:05:13 UTC","created":"2016-01-01 10:00:00 UTC","title":"document 1","changed":null},{"path":"http://www.doc2.dov","updated_at":"2017-09-25
        17:05:13 UTC","created":"2015-12-31 10:00:00 UTC","title":"document 2","changed":null}]}'
    http_version: 
  recorded_at: Mon, 25 Sep 2017 17:05:19 GMT
- request:
    method: get
    uri: http://localhost:8081/api/v1/collections/search?handles=blog_posts&include=title,path,created,changed,updated_at&query=more&size=100&sort_by_date=true
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic dGVzdDp0ZXN0cHdk
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      Connection:
      - keep-alive
      Keep-Alive:
      - 30
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '245'
      Etag:
      - W/"e076319f7d3a4cc3b503163014947ae5"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 1c72d08c-c92c-4e41-b11b-4646122480fa
      X-Runtime:
      - '0.034984'
      Vary:
      - Origin
      Connection:
      - keep-alive
      Server:
      - thin
    body:
      encoding: UTF-8
      string: '{"status":200,"developer_message":"OK","metadata":{"total":1,"offset":0,"suggestion":null},"results":[{"path":"http://www.doc2.dov","updated_at":"2017-09-25
        17:05:13 UTC","created":"2015-12-31 10:00:00 UTC","title":"document 2","changed":null}]}'
    http_version: 
  recorded_at: Mon, 25 Sep 2017 17:05:19 GMT
recorded_with: VCR 3.0.3
