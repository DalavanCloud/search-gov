body, h1, h2, h3, h4, h5
  font-family: <%= render_affiliate_css_property_value(@css_hash, :font_family) %>

body
  background-color: <%= render_affiliate_css_property_value(@css_hash, :page_background_color) %>

$header-background-color: <%= render_affiliate_css_property_value(@css_hash, :header_background_color) %>
$header-background-lightness: lightness($header-background-color)
$search-bar-background-color: if($header-background-lightness > 95%, #efefef, #fff)
$search-bar-border-color: if($header-background-lightness > 50%, darken($header-background-color, 20%), $header-background-color)
$tt-hint-color: if($header-background-lightness > 95%, #505050, #595959)

#header-wrapper
  background-color: $header-background-color

$button-background-color: <%= render_affiliate_css_property_value(@css_hash, :search_button_background_color) %>
$button-background-lightness: lightness($button-background-color)

#search-bar
  background-color: $search-bar-background-color
  border-color: $search-bar-border-color
  .tt-hint
    color: $tt-hint-color

#advanced-search-button
  background-color: $button-background-color

#lightness
  width: $button-background-lightness

@if $button-background-lightness > 75%
  #search-bar #search-button
    background-image: url(<%= ActionController::Base.helpers.asset_path('bootstrap/glyphicons-halflings.png') %>)
  #advanced-search-button
    color: black

#footer-wrapper
  background-color: <%= render_affiliate_css_property_value(@css_hash, :footer_background_color) %>

#menu-button
  color: $button-background-color

#menu-button .icon-bar, #search-bar #search-button
  background-color: $button-background-color

#search-nav .navbar-nav > li.active span
  border-left-color: <%= render_affiliate_css_property_value(@css_hash, :left_tab_text_color) %>
  color: <%= render_affiliate_css_property_value(@css_hash, :left_tab_text_color) %>
  @media (min-width: 768px)
    border-top-color: <%= render_affiliate_css_property_value(@css_hash, :left_tab_text_color) %>

#main-menu ul > li > span
  border-left-color: <%= render_affiliate_css_property_value(@css_hash, :left_tab_text_color) %>
  color: <%= render_affiliate_css_property_value(@css_hash, :left_tab_text_color) %>

#search-nav-wrapper li > a, #footer-wrapper .navbar-nav > li > a
  color: <%= render_affiliate_css_property_value(@css_hash, :navigation_link_color) %>

  &:focus, &:hover, &:visited
    color: <%= render_affiliate_css_property_value(@css_hash, :navigation_link_color) %>

$navigation-background-color: <%= render_affiliate_css_property_value(@css_hash, :navigation_background_color) %>
$navigation-background-lightness: lightness($navigation-background-color)
$navigation-border-color: if($navigation-background-lightness > 50%, darken($navigation-background-color, 20%), lighten($navigation-background-color, 30%))

#main-menu
  border-color: $navigation-border-color
  li > a
    color: <%= render_affiliate_css_property_value(@css_hash, :navigation_link_color) %>

    &:focus, &:hover, &:visited
      color: <%= render_affiliate_css_property_value(@css_hash, :navigation_link_color) %>

  li.divider
    background-color: $navigation-border-color

#search-nav .dropdown-menu
  border-color: $navigation-border-color

#search-nav .navbar-nav, #search-nav .dropdown-menu, #main-menu
  background-color: <%= render_affiliate_css_property_value(@css_hash, :navigation_background_color) %>

#footer-wrapper
  li a
    border-color: <%= render_affiliate_css_property_value(@css_hash, :page_background_color) %>

#search
  color: <%= render_affiliate_css_property_value(@css_hash, :description_text_color) %>

  > div, .content-block-item
    border-color: <%= render_affiliate_css_property_value(@css_hash, :page_background_color) %>

  a, #spelling-suggestion a
    color: <%= render_affiliate_css_property_value(@css_hash, :title_link_color) %>

    &:visited
      color: <%= render_affiliate_css_property_value(@css_hash, :visited_title_link_color) %>

  .content-block-item-footer
    a:visited
      color: <%= render_affiliate_css_property_value(@css_hash, :title_link_color) %>

  .result
    .uext_type
      color: <%= render_affiliate_css_property_value(@css_hash, :title_link_color) %>

    .content-host, .feed-name, .url
      color: <%= render_affiliate_css_property_value(@css_hash, :url_link_color) %>

      &:visited
        color: <%= render_affiliate_css_property_value(@css_hash, :url_link_color) %>

#related-searches a, #search .pagination a
  &:hover, &:visited
    color: <%= render_affiliate_css_property_value(@css_hash, :title_link_color) %>
